!function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},s.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);var i=class{constructor(t,e){this.w=t,this.h=e,this.canvas=this._createCanvas()}_createCanvas(){const t=document.createElement("canvas");t.setAttribute("width",this.w),t.setAttribute("height",this.h);const e=t.getContext("2d"),s=e.getImageData(0,0,this.w,this.h);return{canvas:t,context:e,imageData:s,pixels:s.data}}putPixel(t,e,s){const i=4*(e*this.w+t);this.canvas.pixels[i]=0|s.r,this.canvas.pixels[i+1]=0|s.g,this.canvas.pixels[i+2]=0|s.b,this.canvas.pixels[i+3]=255}renderInto(t){this.canvas.context.putImageData(this.canvas.imageData,0,0),t.appendChild(this.canvas.canvas)}};var n=class{constructor(t,e,s,i){this.x1=t,this.x2=e,this.x3=s,this.x4=i}};var r=class{constructor(t,e){this.origin=t,this.direction=e}};var a=class{constructor(t,e,s){this.r=t,this.g=e,this.b=s}asVector3(){return new h(this.r,this.g,this.b)}rescale(t=0,e=255,s=0,i=255,n=0,r=255){let a=e-t,o=i-s,h=r-n;return this.r=parseInt((this.r-t)/a*255),this.g=parseInt((this.g-s)/o*255),this.b=parseInt((this.b-n)/h*255),this}};class o{constructor(t,e,s){this.x=t,this.y=e,this.z=s}_plus(t){return new o(this.x+t.x,this.y+t.y,this.z+t.z)}_minus(t){return new o(this.x-t.x,this.y-t.y,this.z-t.z)}_scale(t){return new o(t*this.x,t*this.y,t*this.z)}_linearInterpolation(t,e){return this._scale(1-e)._plus(t._scale(e))}asColor(){return new a(this.x,this.y,this.z)}}var h=o;class c{constructor(t,e,s,i){this.camera=t,this.imagePlane=e,this.H=i,this.W=s}static createDefaultView(){const t=new n(new h(-1,.75,0),new h(1,.75,0),new h(-1,-.75,0),new h(1,-.75,0)),e=new h(0,0,-1);return new c(e,t,256,192)}_bilinearInterpolation(t,e){let s=t/this.W,i=(this.H-e-1)/this.H,n=this.imagePlane.x1._linearInterpolation(this.imagePlane.x2,s),a=this.imagePlane.x3._linearInterpolation(this.imagePlane.x4,s)._linearInterpolation(n,i);return{point:a,ray:new r(a,a._minus(this.camera))}}colorSnapshot(){const t=new i(this.W,this.H);for(let e=0;e<this.H;e++)for(let s=0;s<this.W;s++){let i=this._bilinearInterpolation(s,e);t.putPixel(s,e,i.ray.direction.asColor().rescale(-1,1,-.75,.75))}return console.log(.5,.5,.5,.5),t}}var l=c;(function(){l.createDefaultView().colorSnapshot().renderInto(document.querySelector("body"))})()}]);